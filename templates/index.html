<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JP-Thai Office Buddy</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

    <div class="container mt-5">
        <h1 class="text-center mb-4">üáØüáµ JP-Thai Office Buddy</h1>

        <div class="card p-4 shadow-sm">
            <div class="mb-3">
                <label for="thaiInput" class="form-label"><b>‡∏û‡∏¥‡∏°‡∏û‡πå‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà:</b></label>
                <input type="text" class="form-control" id="thaiInput" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏Ñ‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏™‡∏≤‡∏¢">
            </div>
            <button onclick="translateText()" class="btn btn-primary w-100">‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤ (Translate)</button>
        </div>

        <div id="resultArea" class="mt-4" style="display:none;">
            <div class="row">
                <div class="col-md-4">
                    <div class="card text-white bg-info mb-3">
                        <div class="card-header">Casual (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô/‡∏Ñ‡∏ô‡∏™‡∏ô‡∏¥‡∏ó)</div>
                        <div class="card-body">
                            <h5 class="card-title" id="resCasual">-</h5>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card text-white bg-success mb-3">
                        <div class="card-header">Polite (‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)</div>
                        <div class="card-body">
                            <h5 class="card-title" id="resPolite">-</h5>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card text-white bg-dark mb-3">
                        <div class="card-header">Business (‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤/‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤)</div>
                        <div class="card-body">
                            <h5 class="card-title" id="resBusiness">-</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        async function translateText() {
            const text = document.getElementById('thaiInput').value;
            if (!text) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö");

            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î
            const btn = document.querySelector('button');
            btn.innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏õ‡∏•... (‡∏£‡∏≠‡πÅ‡∏õ‡πä‡∏ö‡∏ô‡∏∂‡∏á)";
            btn.disabled = true;

            // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏´‡∏≤ Python
            const formData = new FormData();
            formData.append('text_input', text);

            try {
                const response = await fetch('/translate', {
                    method: 'POST',
                    body: formData
                });
                const data = await response.json();

                if (data.error) {
                    alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + data.error);
                } else {
                    // ‡πÄ‡∏≠‡∏≤‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏°‡∏≤‡πÇ‡∏ä‡∏ß‡πå
                    document.getElementById('resCasual').innerText = data.casual;
                    document.getElementById('resPolite').innerText = data.polite;
                    document.getElementById('resBusiness').innerText = data.business;
                    document.getElementById('resultArea').style.display = 'block';
                }
            } catch (err) {
                alert("‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ");
            }

            // ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤‡∏õ‡∏∏‡πà‡∏°
            btn.innerText = "‡πÅ‡∏õ‡∏•‡∏†‡∏≤‡∏©‡∏≤ (Translate)";
            btn.disabled = false;
        }
    </script>
</body>

</html>